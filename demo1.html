<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼´å­¦é¸­èŠå¤©è®°å½•</title>
    <style>
        /* å…¨å±€æ ·å¼ */
        body {
            font-family: "PingFang SC", -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(to bottom right, #CCFF88, #F1FFD7);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }
        
        .phone-container {
            width: 375px;
            height: 812px;
            background: linear-gradient(150deg, #ccff88 0%, #f1ffd7 100%);
            border-radius: 33px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .chat-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 88px; /* ä¸ºåº•éƒ¨åŠŸèƒ½åŒºç•™å‡ºç©ºé—´ */
            padding: 60px 15px 15px; /* é¡¶éƒ¨paddingå¢åŠ åˆ°60pxï¼Œç»™çŠ¶æ€æ ç•™è¶³ç©ºé—´ */
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            -webkit-overflow-scrolling: touch;
            mask-image: linear-gradient(to bottom, transparent 0, transparent 44px, black 60px); /* åˆ›å»ºé¡¶éƒ¨é€æ˜é®ç½© */
            -webkit-mask-image: linear-gradient(to bottom, transparent 0, transparent 44px, black 60px);
        }

        /* é¡¶éƒ¨çŠ¶æ€æ  */
        .status-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            z-index: 10; /* æé«˜z-indexç¡®ä¿å§‹ç»ˆåœ¨æœ€ä¸Šå±‚ */
            background-color: rgba(204, 255, 136, 0.9); /* åŠé€æ˜èƒŒæ™¯ */
            backdrop-filter: blur(5px); /* æ·»åŠ æ¨¡ç³Šæ•ˆæœ */
            -webkit-backdrop-filter: blur(5px);
        }
        
        .status-bar-time {
            color: #333;
            font-weight: 600;
            font-size: 14px;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .status-bar-icons {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .status-bar-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .status-bar-icon svg {
            width: auto;
            height: auto;
        }

        /* åº•éƒ¨åŠŸèƒ½åŒº - æ›´æ–°æ ·å¼ */
        .bottom-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 88px;
            background: white;  /* çº¯ç™½è‰²èƒŒæ™¯ï¼Œä¸è®¾è®¡å›¾ä¸€è‡´ */
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 9;
            padding-bottom: 14px;  /* æ·»åŠ åº•éƒ¨é—´è·ï¼Œä¸ºå°æ¨ªæ¡ç•™å‡ºç©ºé—´ */
        }

        .bottom-bar-icon {
            width: 28px;
            height: 28px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .bottom-bar-icon:hover {
            background-color: rgba(204, 255, 136, 0.3);
        }

        /* ä¿®æ”¹é¸­å­å›¾æ ‡æ ·å¼ï¼Œä½¿å…¶ä¸è®¾è®¡å›¾ä¸€è‡´ */
        .duck-icon {
            width: 58px;
            height: 58px;
            background-color: #51AE67;  /* ç»¿è‰²èƒŒæ™¯ï¼Œä¸è®¾è®¡å›¾ä¸€è‡´ */
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(81, 174, 103, 0.3);
            margin-bottom: 5px;  /* è°ƒæ•´åº•éƒ¨é—´è· */
        }

        /* æ·»åŠ åº•éƒ¨å°æ¨ªæ¡ */
        .bottom-bar-indicator {
            position: absolute;
            bottom: 9px;
            left: 50%;
            transform: translateX(-50%);
            width: 134px;
            height: 5px;
            background-color: black;
            border-radius: 2.5px;
        }

        /* æ¶ˆæ¯æ ·å¼ */
        .message {
            max-width: 80%;
            margin-bottom: 18px;
            position: relative;
            animation: fadeIn 0.3s ease forwards;
            padding: 14px 20px;
            border-radius: 18px;
            font-size: 16px;
            line-height: 1.4;
            word-break: break-word;
        }

        .duck-message {
            align-self: flex-start;
            background-color: rgba(255, 255, 255, 0.8);
            color: #333;
            border-radius: 18px 18px 18px 0;
            margin-left: 0;
            border: 1px solid rgba(195, 225, 149, 0.5);
            box-shadow: 0 2px 8px rgba(195, 225, 149, 0.25);
        }

        .duck-message::before {
            content: "";
            position: absolute;
            bottom: 0;
            left: -10px;
            width: 20px;
            height: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-bottom-right-radius: 20px;
            z-index: -1;
        }

        .duck-message::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: -10px;
            width: 20px;
            height: 20px;
            background-color: rgba(255, 255, 255, 0);
            border-bottom-right-radius: 20px;
            box-shadow: 5px 0 0 0 rgba(255, 255, 255, 0.8);
            z-index: -2;
        }
        
        .user-message {
            align-self: flex-end;
            background-color: rgba(255, 255, 255, 0.4);
            color: #585858;
            border-radius: 20px;
            margin-right: 0;
            box-shadow: 0 2px 8px rgba(81, 174, 103, 0.25);
        }

        .user-message::before {
            content: "";
            position: absolute;
            bottom: 0;
            right: -10px;
            width: 20px;
            height: 20px;
            background-color: rgba(81, 174, 103, 0.9);
            border-bottom-left-radius: 20px;
            z-index: -1;
        }

        .user-message::after {
            content: "";
            position: absolute;
            bottom: 0;
            right: -10px;
            width: 20px;
            height: 20px;
            background-color: rgba(81, 174, 103, 0);
            border-bottom-left-radius: 20px;
            box-shadow: -5px 0 0 0 rgba(81, 174, 103, 0.9);
            z-index: -2;
        }

        .duck-avatar {
            width: 40px;
            height: 40px;
            background-color: #FFDB70;
            border-radius: 50%;
            position: absolute;
            left: -50px;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            box-shadow: 0 2px 8px rgba(255, 219, 112, 0.3);
        }

        /* çµåŠ¨å²›æ ·å¼ - ä¿æŒåŸæ · */
        .dynamic-island {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(1, 1, 1, 0.8);
            border-radius: 37px;
            z-index: 100;
            transition: all 0.5s cubic-bezier(0.33, 1, 0.68, 1); /* ä½¿ç”¨æ›´å¹³æ»‘çš„ç¼“åŠ¨å‡½æ•° */
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 0;
            width: 134px;
            min-height: 36px;
            backdrop-filter: blur(10.7px);
            -webkit-backdrop-filter: blur(10.7px);
            will-change: width, height, min-height; /* æç¤ºæµè§ˆå™¨é¢„å…ˆåšå¥½å‡†å¤‡ */
        }
        
        .dynamic-island.expanded-step1 {
            width: 347px;
            height: 68px;
        }
        
        .dynamic-island.expanded-step2 {
            width: 347px;
            height: 182px;
        }
        
        .dynamic-island.expanded-step3 {
            width: 347px;
            min-height: 282px;
            height: auto;
            max-height: 500px;
        }

        .eye-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            animation: lookAround 8s ease-in-out infinite;
            transition: opacity 0.5s ease;
            opacity: 1;
            padding-top: 8px;
            width: 100%;
        }

        .eye-container.fade-out {
            opacity: 0;
        }

        .eye-container.hidden {
            display: none;
        }
        
        .eye {
            width: 18px;
            height: 22px;
            background-color: #6ef089;
            border-radius: 50% / 40%;
            transition: height 0.2s ease;
        }
        
        .eye.blink {
            animation: blinkAnim 0.3s ease-in-out forwards;
        }

        @keyframes blinkAnim {
            0% { height: 22px; }
            50% { height: 4px; }
            100% { height: 22px; }
        }

        @keyframes lookAround {
            0% { transform: translateX(0); }
            20% { transform: translateX(8px); }
            40% { transform: translateX(-8px); }
            60% { transform: translateX(0); }
            100% { transform: translateX(0); }
        }

        .thinking-text {
            position: absolute;
            left: 24px;
            top: 26px;
            font-family: 'PingFang SC', sans-serif;
            font-size: 16px;
            line-height: 18px;
            letter-spacing: 0.08em;
            color: #94FAA1;
            opacity: 0;
            transition: opacity 0.5s ease;
            white-space: nowrap;
        }

        .thinking-text.visible {
            opacity: 1;
        }
        
        .think-icon {
            position: absolute;
            left: 24px;
            top: 62px;
            width: 12px;
            height: 9px;
            z-index: 12;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .think-icon.visible {
            opacity: 1;
        }

        .analysis-text {
            position: absolute;
            left: 42px;
            right: 29px;
            top: 56px;
            font-family: 'PingFang SC', sans-serif;
            font-size: 14px;
            font-weight: normal;
            line-height: 20px;
            letter-spacing: 0.1em;
            color: #94FAA1;
            opacity: 0;
            transition: opacity 0.5s ease;
            text-align: justify;
            text-justify: inter-word;
            max-width: 276px;
        }

        .analysis-text.visible {
            opacity: 0.8;
        }

        .find-icon {
            position: absolute;
            left: 24px;
            width: 12px;
            height: 12px;
            z-index: 12;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .find-icon.visible {
            opacity: 1;
        }

        .extra-text {
            position: absolute;
            font-family: 'PingFang SC', sans-serif;
            font-size: 12px;
            font-weight: normal;
            line-height: 20px;
            color: rgba(111, 255, 243, 0.7);
            background-color: rgba(148, 250, 161, 0.2);
            padding: 4px 14px;
            white-space: normal;
            border-radius: 20px;
            opacity: 0;
            transition: opacity 0.5s ease;
            max-width: 260px;
            right: 29px;
        }

        .extra-text.visible {
            opacity: 1;
        }

        /* é€‰é¡¹æ ·å¼ */
        .options-container {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
            animation: fadeIn 0.3s ease forwards;
        }
        
        .option-button {
            width: 90%;
            padding: 15px 0;
            margin-bottom: 10px;
            border-radius: 18px;
            font-size: 16px;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.4);
            color: #333;
            box-shadow: 0 2px 10px rgba(195, 225, 149, 0.3);
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .option-button:hover, .option-button.selected {
            background-color: #51AE67;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(81, 174, 103, 0.3);
        }
        
        /* è¡¨å•æ ·å¼ */
        .form-container {
            width: 90%;
            margin: 15px auto;
            background-color: rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 4px 25px rgba(195, 225, 149, 0.2);
            animation: fadeIn 0.3s ease forwards;
        }
        
        .form-title {
            color: #469337;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group-title {
            font-size: 16px;
            font-weight: 500;
            color: #333;
            margin-bottom: 12px;
        }
        
        .form-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        
        .form-option {
            flex: 1 0 30%;
            background-color: #E6FEC5;
            color: #333;
            padding: 12px 0;
            margin: 5px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(70, 147, 55, 0.1);
        }
        
        .form-option:hover, .form-option.selected {
            background-color: #51AE67;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(81, 174, 103, 0.2);
        }
        
        .form-submit {
            background-color: #51AE67;
            color: white;
            border: none;
            border-radius: 14px;
            padding: 15px 0;
            width: 100%;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(81, 174, 103, 0.2);
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .form-submit:hover {
            background-color: #469337;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(81, 174, 103, 0.3);
        }
        
        /* å›¾è¡¨å’Œå¡ç‰‡æ ·å¼ */
        .card-container {
            width: 90%;
            margin: 15px auto;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(195, 225, 149, 0.25);
            animation: fadeIn 0.3s ease forwards;
        }
        
        .card-title {
            color: #469337;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .chart-container {
            height: 300px;
            overflow-y: auto;
            padding: 5px;
        }
        
        .statistics-bar {
            height: 30px;
            background-color: #51AE67;
            border-radius: 6px;
            margin: 8px 0;
            display: flex;
            align-items: center;
            padding: 0 15px;
            color: white;
            font-weight: 500;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(81, 174, 103, 0.2);
        }
        
        .video-list, .exercise-list {
            margin-top: 15px;
        }
        
        .video-item, .exercise-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 15px;
            background-color: white;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .video-item:hover, .exercise-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .video-icon, .exercise-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            color: white;
            font-size: 20px;
        }
        
        .video-icon {
            background-color: #DC74E9;
            box-shadow: 0 2px 8px rgba(220, 116, 233, 0.3);
        }
        
        .exercise-icon {
            background-color: #2A95E7;
            box-shadow: 0 2px 8px rgba(42, 149, 231, 0.3);
        }
        
        .video-info, .exercise-info {
            flex: 1;
        }
        
        .video-title, .exercise-title {
            font-weight: 500;
            color: #333;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .video-duration, .exercise-duration {
            font-size: 14px;
            color: #868686;
        }
        
        .check-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(84, 202, 21, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            color: #54CA15;
            font-size: 16px;
        }

        /* è®¡åˆ’å¡ç‰‡æ ·å¼ */
        .plan-card {
            margin-top: 15px;
        }
        
        .plan-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 15px;
            background-color: white;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .plan-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .plan-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            font-size: 22px;
            background-color: #E6FEC5;
            color: #51AE67;
        }
        
        .plan-info {
            flex: 1;
        }
        
        .plan-title {
            font-weight: 500;
            color: #333;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .plan-duration {
            font-size: 14px;
            color: #868686;
        }
        
        .plan-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .plan-button {
            width: 48%;
            padding: 14px 0;
            border-radius: 14px;
            font-size: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .plan-button-adjust {
            background-color: white;
            color: #585858;
            border: 1px solid #EAEAEA;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .plan-button-adjust:hover {
            background-color: #f8f8f8;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .plan-button-add {
            background-color: #51AE67;
            color: white;
            border: none;
            box-shadow: 0 2px 10px rgba(81, 174, 103, 0.2);
        }

        .plan-button-add:hover {
            background-color: #469337;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(81, 174, 103, 0.3);
        }
        
        .success-dialog {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 4px 25px rgba(0, 0, 0, 0.15);
            text-align: center;
            z-index: 1000;
            width: 250px;
        }
        
        .success-message {
            font-weight: 500;
            margin-bottom: 20px;
            font-size: 18px;
            color: #333;
        }
        
        .success-button {
            background-color: #51AE67;
            color: white;
            border: none;
            border-radius: 14px;
            padding: 12px 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            box-shadow: 0 4px 10px rgba(81, 174, 103, 0.2);
            transition: all 0.3s ease;
        }

        .success-button:hover {
            background-color: #469337;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(81, 174, 103, 0.3);
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ç§»é™¤æ‰€æœ‰æ¶ˆæ¯æ°”æ³¡å°¾éƒ¨ */
        .user-message::before, 
        .user-message::after,
        .duck-message::before,
        .duck-message::after {
            display: none !important;
        }

        /* ç§»é™¤ç”¨æˆ·æ¶ˆæ¯æ°”æ³¡å°¾éƒ¨ */
        .user-message::before, 
        .user-message::after {
            display: none !important;
        }

        /* æ·»åŠ ä¸€ä¸ªé¡¶éƒ¨é®ç½©ï¼Œç¡®ä¿å†…å®¹ä¸ä¼šæ˜¾ç¤ºåœ¨çŠ¶æ€æ ä¸‹æ–¹ */
        .phone-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 44px;
            background: linear-gradient(150deg, #ccff88 0%, #f1ffd7 100%);
            z-index: 9;
            pointer-events: none; /* å…è®¸ç‚¹å‡»ç©¿é€ */
        }

        .form-option.hover-effect {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(81, 174, 103, 0.2);
            background-color: rgba(81, 174, 103, 0.2);
        }
        
        .form-submit.clicked {
            transform: translateY(2px);
            box-shadow: 0 2px 5px rgba(81, 174, 103, 0.2);
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <!-- çµåŠ¨å²› - ä¿æŒåŸæœ‰å®ç° -->
        <div class="dynamic-island" id="dynamic-island">
            <div class="eye-container" id="eye-container">
                <div class="eye" id="left-eye"></div>
                <div class="eye" id="right-eye"></div>
            </div>
            <div class="thinking-text" id="thinking-text">æ€è€ƒä¸­</div>
            <img src="think icon.png" alt="æ€è€ƒ" id="think-icon" class="think-icon">
            <div class="analysis-text" id="analysis-text"></div>
            <img src="find.png" alt="æœç´¢" id="find-icon" class="find-icon">
            <div class="extra-text" id="extra-line1"></div>
            <div class="extra-text" id="extra-line2"></div>
            </div>

        <!-- çŠ¶æ€æ  -->
        <div class="status-bar">
            <div class="status-bar-time">10:41</div>
            <div class="status-bar-icons">
                <!-- ä¿¡å·å¼ºåº¦å›¾æ ‡ -->
                <div class="status-bar-icon">
                    <svg width="16" height="10" viewBox="0 0 16 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M304 20H305C305.552 20 306 20.4477 306 21V27C306 27.5523 305.552 28 305 28H304C303.448 28 303 27.5523 303 27V21C303 20.4477 303.448 20 304 20Z" transform="translate(-294 -18)" fill="#333333"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M299.5 22H300.5C301.052 22 301.5 22.4477 301.5 23V27C301.5 27.5523 301.052 28 300.5 28H299.5C298.948 28 298.5 27.5523 298.5 27V23C298.5 22.4477 298.948 22 299.5 22Z" transform="translate(-294 -18)" fill="#333333"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M295 23.5H296C296.552 23.5 297 23.9477 297 24.5V27C297 27.5523 296.552 28 296 28H295C294.448 28 294 27.5523 294 27V24.5C294 23.9477 294.448 23.5 295 23.5Z" transform="translate(-294 -18)" fill="#333333"/>
                    </svg>
        </div>
        
                <!-- WiFiå›¾æ ‡ -->
                <div class="status-bar-icon">
                    <svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M324.132 24.9395C324.771 24.9395 325.393 25.1075 325.94 25.4279L326.162 25.5577C326.33 25.6562 326.36 25.8865 326.222 26.024L324.328 27.9129C324.212 28.0289 324.023 28.0289 323.907 27.9129L322.025 26.0362C321.887 25.8993 321.916 25.6701 322.083 25.5709L322.302 25.4405C322.855 25.112 323.484 24.9395 324.132 24.9395Z" transform="translate(-316 -18)" fill="#333333"/>
                        <path d="M324.133 21.4707C325.724 21.4707 327.251 21.9984 328.495 22.9758L328.671 23.1139C328.811 23.224 328.824 23.4315 328.697 23.5573L327.567 24.685C327.462 24.7893 327.297 24.8013 327.178 24.7131L327.04 24.6107C326.2 23.9861 325.186 23.6511 324.133 23.6511C323.073 23.6511 322.053 23.9903 321.21 24.622L321.072 24.7254C320.953 24.8142 320.787 24.8025 320.682 24.6979L319.552 23.5707C319.426 23.4451 319.438 23.2382 319.578 23.1279L319.753 22.9896C321 22.0036 322.534 21.4707 324.133 21.4707Z" transform="translate(-316 -18)" fill="#333333"/>
                        <path d="M324.133 18C326.657 18 329.072 18.8906 330.983 20.5229L331.146 20.6623C331.278 20.7749 331.285 20.9756 331.163 21.098L330.036 22.2219C329.926 22.3308 329.752 22.3385 329.634 22.2395L329.494 22.1228C327.989 20.8647 326.104 20.1804 324.133 20.1804C322.155 20.1804 320.263 20.8694 318.756 22.1354L318.617 22.2527C318.498 22.3521 318.324 22.3447 318.214 22.2356L317.087 21.1118C316.965 20.9895 316.972 20.7892 317.104 20.6765L317.266 20.5371C319.18 18.8959 321.601 18 324.133 18Z" transform="translate(-316 -18)" fill="#333333"/>
                    </svg>
        </div>
        
                <!-- ç”µæ± å›¾æ ‡ -->
                <div class="status-bar-icon">
                    <svg width="25" height="12" viewBox="0 0 25 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M360 21V21C360.552 21 361 21.4477 361 22V24C361 24.5523 360.552 25 360 25V25V21Z" transform="translate(-336 -17)" fill="#333333" fill-opacity="0.6"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M339 17H356C357.657 17 359 18.3431 359 20V26C359 27.6569 357.657 29 356 29H339C337.343 29 336 27.6569 336 26V20C336 18.3431 337.343 17 339 17ZM339 18C337.895 18 337 18.8954 337 20V26C337 27.1046 337.895 28 339 28H356C357.105 28 358 27.1046 358 26V20C358 18.8954 357.105 18 356 18H339Z" transform="translate(-336 -17)" fill="#333333" fill-opacity="0.6"/>
                        <rect x="2" y="2" width="19" height="8" rx="1" fill="#333333"/>
                    </svg>
                </div>
            </div>
        </div>
        
        <!-- èŠå¤©å®¹å™¨ -->
        <div class="chat-container" id="chat-messages-container"></div>

        <!-- åº•éƒ¨åŠŸèƒ½åŒº -->
        <div class="bottom-bar">
            <div class="bottom-bar-icon">
                <img src="task01.png" alt="è®¡åˆ’" style="width: 26px; height: 26px;">
        </div>
            <div class="duck-icon">
                <img src="duck.png" alt="é¸­å­" style="width: 40px; height: 40px;">
            </div>
            <div class="bottom-bar-icon">
                <img src="my.png" alt="æˆ‘çš„" style="width: 26px; height: 26px;">
            </div>
            <!-- æ·»åŠ åº•éƒ¨å°æ¨ªæ¡ -->
            <div class="bottom-bar-indicator"></div>
        </div>
    </div>
    
    <script>
        // å¯¹è¯å†…å®¹æ•°ç»„
        const conversation = [
            {
                type: 'ai',
                content: 'å—¨åŒå­¦ï¼æˆ‘æ˜¯ä¼´å­¦é¸­~ä½ å«æˆ‘é¸­é¸­å°±å¥½ï¼ä½ ç°åœ¨ä¸Šé«˜å‡ å‘€ï¼Ÿ',
                options: ['é«˜ä¸€', 'é«˜äºŒ', 'é«˜ä¸‰']
            },
            {
                type: 'thinking',
                analysis: 'å­¦ç”Ÿé€‰æ‹©"é«˜ä¸‰"åï¼Œéœ€å¿«é€Ÿå…±æƒ…â€”â€”é«˜ä¸‰å‹åŠ›å¤§ï¼Œæ—¶é—´ç´§è¿«ï¼Œè¦ä¼ é€’"æˆ‘ç†è§£ä½ çš„éš¾å¤„"çš„ä¿¡å·ã€‚è¯¢é—®çœä»½æ˜¯ä¸ºäº†å®šä½è€ƒçº²å·®å¼‚ï¼ˆå¦‚æ¹–åŒ—æ–°é«˜è€ƒã€å…¨å›½å·ç­‰ï¼‰ï¼Œä¸åŒçœä»½è€ƒç‚¹æƒé‡ã€å‘½é¢˜é£æ ¼å·®å¼‚è¾ƒå¤§ã€‚',
                searching: 'è°ƒå–ã€Šçœä»½è€ƒçº²å·®å¼‚åº“ã€‹'
            },
            {
                type: 'ai',
                content: 'é«˜ä¸‰å…šä¸å®¹æ˜“å‘€ï¼Œè¿˜æœ‰å‡ åå¤©å°±é«˜è€ƒäº†å‘¢ï¼Œä½ åœ¨å“ªä¸ªçœå¥‹æ–—å‘¢ï¼Ÿ'
            },
            {
                type: 'user',
                content: 'æ¹–åŒ—'
            },
            {
                type: 'thinking',
                analysis: 'é€šè¿‡"æ¹–åŒ—å°ä¼™ä¼´"å¼ºåŒ–åœ°åŸŸå…±é¸£ï¼Œæš—ç¤º"æˆ‘å¯¹ä½ çš„æƒ…å†µå¾ˆäº†è§£"ã€‚å¼€æ”¾å¼æé—®"æ„Ÿè§‰å’‹æ ·"æ—¢èƒ½å¼•å¯¼å€¾è¯‰ï¼Œåˆèƒ½è§‚å¯Ÿå­¦ç”Ÿæƒ…ç»ªçŠ¶æ€ã€‚è‹¥å­¦ç”ŸæŠ±æ€¨ï¼Œéœ€ä¼˜å…ˆæƒ…ç»ªå®‰æŠšï¼›è‹¥æ²‰é»˜ï¼Œåˆ™éœ€è¿›ä¸€æ­¥å¼•å¯¼ã€‚',
                searching: 'æ£€ç´¢ã€Šæ¹–åŒ—è¿‘3å¹´æ¨¡è€ƒéš¾åº¦ç³»æ•°è¡¨ã€‹ï¼Œç¡®è®¤æ˜¯å¦è¿‘æœŸæ¨¡è€ƒéš¾åº¦ç¡®å®é«˜äºå¾€å¹´ï¼ˆç”¨äºåç»­å®¢è§‚åˆ†æï¼‰ã€‚'
            },
            {
                type: 'ai',
                content: 'å“å‘€ï¼Œé¸­é¸­çš„æ¹–åŒ—å°ä¼™ä¼´ä»¬éƒ½è¯´æœ€è¿‘çš„æ¨¡è€ƒéš¾åº¦çˆ†è¡¨å‘¢ï¼Œä½ æ„Ÿè§‰å’‹æ ·ï¼Ÿ'
            },
            {
                type: 'user',
                content: 'æ¨¡è€ƒå·²å´©ï¼Œç‰©ç†æ‰50ï¼Œæˆ‘æƒ³ä¸Šä¸€æœ¬ï¼Œå•Šå•Šå•Šå•Šå•Š.....'
            },
            {
                type: 'thinking',
                analysis: 'å­¦ç”Ÿè¡¨ç°å‡ºç„¦è™‘æƒ…ç»ªï¼Œéœ€å…ˆç¨³å®šæƒ…ç»ªå†ç»™æ–¹æ¡ˆã€‚"ç‰©ç†50"æ˜¯æ ¸å¿ƒä¿¡æ¯ï¼Œè¦å¿«é€Ÿåˆ¤æ–­ï¼š50åˆ†åœ¨æ¹–åŒ—ç‰©ç†å·ä¸­çš„ä½ç½®ï¼ˆé€šå¸¸æ»¡åˆ†100ï¼Œ50åˆ†å¤„äºä¸­ä¸‹æ°´å¹³ï¼‰ï¼Œç»“åˆä¸€æœ¬çº¿æ¨ç®—éœ€æå‡çš„åˆ†æ•°åŒºé—´ã€‚ç”¨"ä¸æ…Œ"å¿«é€Ÿé•‡å®šå­¦ç”Ÿæƒ…ç»ªï¼Œ"åˆ†æå±€åŠ¿"ä½“ç°ä¸“ä¸šæ€§ã€‚è¿½é—®å…¶ä»–ç§‘ç›®æ˜¯ä¸ºåˆ¤æ–­æåˆ†ä¼˜å…ˆçº§â€”â€”å¦‚æœå…¶ä»–ç§‘å·²æ¥è¿‘å¤©èŠ±æ¿ï¼Œåˆ™éœ€å…¨åŠ›å†²åˆºç‰©ç†ï¼›è‹¥å…¶ä»–ç§‘ä¹Ÿæœ‰ç©ºé—´ï¼Œåˆ™éœ€ç»Ÿç­¹è§„åˆ’ã€‚',
                searching: 'è°ƒç”¨ã€Šæ¹–åŒ—è¿‘3å¹´ä¸€æœ¬çº¿åˆ†æ•°æ¢ç®—è¡¨ã€‹'
            },
            {
                type: 'ai',
                content: 'ä¸æ…Œï¼Œå®¹é¸­é¸­å¸®ä½ åˆ†æä¸‹å±€åŠ¿ï¼Œä½ å…¶ä»–ç§‘éƒ½æ€ä¹ˆæ ·å•Šï¼Œè€ƒä¸€æœ¬ä½ ç‰©ç†éœ€è¦æå‡åˆ°å¤šå°‘ï¼Ÿ'
            },
            {
                type: 'user',
                content: 'å…¶ä»–ç§‘å€’è¿˜å¥½ï¼Œç‰©ç†æ€ä¹ˆä¹Ÿå¾—å†²åˆ°80åˆ†ï¼Œç°åœ¨å®Œå…¨æ²¡æœ‰æ€è·¯æ€ä¹ˆå­¦ã€‚'
            },
            {
                type: 'thinking',
                analysis: 'å­¦ç”Ÿæåˆ°"ç‰©ç†å†²åˆ°80åˆ†"çš„ç›®æ ‡æ—¶ï¼Œè¡¨ç°å‡ºæ˜æ˜¾çš„ç„¦è™‘å’Œè‡ªæˆ‘æ€€ç–‘ã€‚ä½œä¸ºè€å¸ˆï¼Œæˆ‘éœ€è¦å¿«é€Ÿä¼ é€’å¸Œæœ›ï¼Œç”¨å…·ä½“æ•°æ®æ›¿ä»£ç©ºæ´å®‰æ…°ã€‚\nç­–ç•¥ï¼š\n- é”šå®šæ•ˆåº”ï¼šç”¨"30-40åˆ†"çš„æ˜ç¡®æå‡å¹…åº¦ï¼Œè®©å­¦ç”Ÿå¯¹æ ‡å¯å®ç°çš„è·¯å¾„ï¼›\n- ç¤¾ä¼šè®¤åŒï¼šå¼ºè°ƒ"å¾€æœŸåŒå­¦"çš„æˆåŠŸæ¡ˆä¾‹ï¼Œé™ä½å­¤ç‹¬æ„Ÿï¼›\n- ç›®æ ‡æ‹†è§£ï¼šæš—ç¤º"2ä¸ªæœˆ"çš„çŸ­æœŸå†²åˆºå¯è¡Œæ€§ï¼Œé¿å…å­¦ç”Ÿè¢«"80å¤©"çš„é•¿æœŸå‹åŠ›å‡»å®ã€‚\næ½œåœ¨é£é™©ï¼šè‹¥å­¦ç”Ÿè¿½é—®æˆåŠŸç‡ï¼Œéœ€åç»­è¡¥å……æ•°æ®ç»†èŠ‚ï¼Œä½†å½“å‰ä¼˜å…ˆç¨³å®šæƒ…ç»ªã€‚',
                searching: 'è°ƒç”¨ã€ŠçŸ­æœŸæåˆ†æ¡ˆä¾‹åº“ã€‹'
            },
            {
                type: 'ai',
                content: 'å¥½ï¼Œæ˜ç™½äº†ï¼Œåˆ«æ€¥å“ˆï¼Œå’±ä»¬å¾€æœŸæœ‰å¾ˆå¤šåŒå­¦åœ¨2ä¸ªæœˆå†…æå‡è¿‡30-40åˆ†å‘¢ã€‚'
            },
            {
                type: 'thinking',
                analysis: 'å­¦ç”Ÿå½“å‰åˆ†æ•°éšå«ä¸¤ä¸ªä¿¡æ¯ï¼šåŸºç¡€é¢˜å·²æŒæ¡ï¼ˆ50åˆ†â‰ˆåŠæ ¼çº¿ï¼‰ï¼Œä½†ä¸­é«˜é¢‘è€ƒç‚¹å­˜åœ¨æ¼æ´ã€‚éœ€æ˜ç¡®ä¼ é€’"ä½ æœ‰æ½œåŠ›ï¼Œåªéœ€ç²¾å‡†è¡¥æ¼"çš„ç»“è®ºï¼š\nè¯Šæ–­é€»è¾‘ï¼š\n- è‚¯å®šåŸºç¡€ï¼š50åˆ†â‰ é›¶åŸºç¡€ï¼Œé¿å…å­¦ç”Ÿé™·å…¥"æˆ‘ä»€ä¹ˆéƒ½å·®"çš„æ¶ˆæå½’å› ï¼›\n- é—®é¢˜å®šä½ï¼šå¼ºè°ƒ"è–„å¼±æ¿å—"è€Œé"å…¨éƒ¨é‡å­¦"ï¼Œå‡å°‘è®¤çŸ¥è´Ÿè·ï¼›\n- è¡ŒåŠ¨å¯¼å‘ï¼šä¸ºåç»­æ¨é€è¡¨å•åŸ‹ä¸‹ä¼ç¬”ï¼ˆ"é’ˆå¯¹è–„å¼±"éœ€å…ˆæ˜ç¡®è–„å¼±ç‚¹ï¼‰ã€‚\næ½œå°è¯ï¼šå­¦ç”Ÿå¯èƒ½å› ç„¦è™‘é™·å…¥ç›²ç›®åˆ·é¢˜ï¼Œéœ€å¼•å¯¼å…¶è½¬å‘ç»“æ„åŒ–å­¦ä¹ ã€‚',
                searching: 'è°ƒå–ã€Šç‰©ç†é¢˜å‹åˆ†å±‚æ¨¡å‹ã€‹ï¼Œåˆ†æ50åˆ†æ®µå­¦ç”Ÿå…¸å‹å¤±åˆ†æ¨¡å—'
            },
            {
                type: 'ai',
                content: 'ä½ ç°åœ¨50åˆ†è¯´æ˜æœ‰ä¸€å®šåŸºç¡€ï¼Œæ¥ä¸‹æ¥å°±å¾—é’ˆå¯¹è–„å¼±æ¿å—è¿›è¡Œæå‡äº†å‘¢ã€‚'
            },
            {
                type: 'thinking',
                analysis: 'åœ¨é“ºå«å¸Œæœ›å’Œé€»è¾‘åï¼Œéœ€å¼•å¯¼å­¦ç”Ÿä¸»åŠ¨å‚ä¸è¯Šæ–­ï¼Œé¿å…"å¡«è¡¨"æ˜¾å¾—çªå…€ï¼š\nè®¾è®¡é€»è¾‘ï¼š\n- é™ä½é—¨æ§›ï¼šç”¨"è¯´è¯´"è½¯åŒ–è¡¨å•çš„æ­£å¼æ„Ÿï¼Œå‡å°‘æŠ—æ‹’å¿ƒç†ï¼›\n- é€‰é¡¹å¼•å¯¼ï¼šè¡¨å•éœ€é¢„è®¾é«˜é¢‘å¤±åˆ†æ¨¡å—ï¼ˆå¦‚ç”µç£å­¦ã€åŠ›å­¦ç»¼åˆé¢˜ï¼‰ï¼Œé¿å…å­¦ç”Ÿå› å›å¿†æ¨¡ç³Šæ”¾å¼ƒå¡«å†™ï¼›\n- æ•°æ®é©±åŠ¨ï¼šä¸ºåç»­ä¸ªæ€§åŒ–è®¡åˆ’æä¾›ä¾æ®ï¼ŒåŒæ—¶è®©å­¦ç”Ÿæ„ŸçŸ¥åˆ°"ä¸“ä¸šåˆ†æ"çš„ä»·å€¼ã€‚\né£é™©é¢„åˆ¤ï¼šè‹¥å­¦ç”Ÿå¡«å†™æ¨¡ç³Šï¼ˆå¦‚"éƒ½å·®"ï¼‰ï¼Œéœ€å‡†å¤‡è¿½é—®è¯æœ¯ï¼ˆå¦‚"å“ªéƒ¨åˆ†ä¸Šè¯¾å¬æœ€æ‡µï¼Ÿ"ï¼‰ã€‚',
                searching: 'è°ƒç”¨ã€Šç‰©ç†çŸ¥è¯†ç‚¹åˆ†ç±»è¡¨å•æ¨¡æ¿ã€‹'
            },
            {
                type: 'ai',
                content: 'ä½ å¯ä»¥å’Œæˆ‘è¯´è¯´ä½ å“ªéƒ¨åˆ†ä¸¢åˆ†æœ€å¤šå—ï¼Ÿå¯ä»¥å¡«ä¸‹è¿™ä¸ªè¡¨ã€‚',
                form: {
                    title: 'ç‰©ç†é”™é¢˜åˆ†å¸ƒè°ƒæŸ¥',
                    modules: [
                        {title: 'åŠ›å­¦æ¨¡å—', options: ['ä¸€èˆ¬ä¸ä¼šé”™', 'å¶å°”é”™', 'ç»å¸¸é”™'], selected: 1},
                        {title: 'ç”µç£å­¦æ¨¡å—', options: ['ä¸€èˆ¬ä¸ä¼šé”™', 'å¶å°”é”™', 'ç»å¸¸é”™'], selected: 2},
                        {title: 'é€‰ä¿®æ¨¡å—', options: ['ä¸€èˆ¬ä¸ä¼šé”™', 'å¶å°”é”™', 'ç»å¸¸é”™'], selected: 1},
                        {title: 'å®éªŒæ¨¡å—', options: ['ä¸€èˆ¬ä¸ä¼šé”™', 'å¶å°”é”™', 'ç»å¸¸é”™'], selected: 1},
                        {title: 'è®¡ç®—æ¨¡å—', options: ['ä¸€èˆ¬ä¸ä¼šé”™', 'å¶å°”é”™', 'ç»å¸¸é”™'], selected: 1}
                    ]
                }
            },
            {
                type: 'thinking',
                analysis: 'æ ¹æ®è¡¨å•æ•°æ®ï¼ˆåŠ›å­¦æ­£ç¡®ç‡60%ã€ç”µå­¦30%ï¼‰ï¼Œåˆ¤æ–­å­¦ç”ŸçŸ¥è¯†ç»“æ„æ–­å±‚ç‚¹ã€‚åŠ›å­¦æ˜¯ç‰©ç†åŸºç¡€ï¼Œç”µå­¦æ›´ä¾èµ–æŠ½è±¡æ€ç»´ï¼Œéœ€é’ˆå¯¹æ€§è¡¥è¶³ç”µç£å­¦æ¨¡å—ã€‚åŒæ—¶æš—ç¤º"åŠ›å­¦æœ‰æ•‘ï¼Œç”µå­¦å¯çªç ´"ï¼Œå¢å¼ºå­¦ç”Ÿä¿¡å¿ƒã€‚',
                searching: 'åŒ¹é…ã€Šç”µç£å­¦é«˜é¢‘è€ƒç‚¹æ¸…å•ã€‹ï¼Œç­›é€‰æ¹–åŒ—è¿‘5å¹´å‡ºç°2æ¬¡ä»¥ä¸Šçš„è€ƒç‚¹ï¼ˆå¦‚ç”µç£æ„Ÿåº”ã€å¤åˆåœºï¼‰'
            },
            {
                type: 'ai',
                content: 'æ˜ç™½äº†ï¼Œçœ‹æ¥ä½ åŠ›å­¦å­¦å¾—ä¸é”™ï¼Œç”µå­¦åŸºç¡€ç¨å¾®å·®ç‚¹å„¿ã€‚'
            },
            {
                type: 'thinking',
                analysis: 'ç”¨æ•°æ®è¯´è¯ï¼Œé¿å…ç©ºæ´é¼“åŠ±ã€‚å¼ºè°ƒ"ä¸€å¹´ä¸¤è€ƒ"è®©å­¦ç”Ÿæ„è¯†åˆ°è¿™äº›ä¸“é¢˜çš„æ€§ä»·æ¯”ï¼ŒåŒæ—¶ä¼ é€’"å†²åˆºè¿™äº›é¢˜èƒ½å¿«é€Ÿæåˆ†"çš„æˆ˜æœ¯ã€‚éœ€åŒæ­¥æ€è€ƒå¦‚ä½•å°†é«˜é¢‘è€ƒç‚¹ä¸å­¦ç”Ÿè–„å¼±ç‚¹ç»“åˆã€‚',
                searching: 'è°ƒå–ã€Šæ¹–åŒ—ç‰©ç†ä¸“é¢˜è€ƒé¢‘å›¾è°±ã€‹ï¼Œæ ‡æ³¨ç”µç£å­¦é«˜é¢‘é¢˜å‹å’Œå¯¹åº”è§£é¢˜æ¨¡æ¿ã€‚'
            },
            {
                type: 'ai',
                content: 'æˆ‘ä»¬çœ‹ä¸‹è¿‘å››å¹´æ¹–åŒ—çš„è€ƒé¢˜å“ˆï¼Œç”µç£å­¦æ¨¡å—ç”µåœºã€ç£åœºã€ç”µç£æ„Ÿåº”å‡å‡ºç°è¿‡â¼€å¹´ä¸¤è€ƒï¼Œè¿™å‡ ä¸ªä¸“é¢˜æ˜¯ä½ æ¥ä¸‹æ¥è¦é‡ç‚¹è¦æ”»å…‹çš„å¯¹è±¡ã€‚',
                chart: {
                    title: '2021-2024 ä¸€çº§æ¨¡å—å‡åˆ†é™åºè¡¨',
                    data: [
                        {name: 'ç”µç£æ„Ÿåº”', value: 6, width: '90%'},
                        {name: 'åŠ¨é‡', value: 6, width: '90%'},
                        {name: 'èƒ½é‡', value: 6, width: '90%'},
                        {name: 'è¾“ç”µåœº', value: 5, width: '80%'},
                        {name: 'ç‰›é¡¿è¿åŠ¨å®šå¾‹', value: 5, width: '80%'},
                        {name: 'ç£åœº', value: 4, width: '70%'},
                        {name: 'ç”µå­¦å®éªŒ', value: 4, width: '70%'},
                        {name: 'çƒ­å­¦', value: 4, width: '70%'},
                        {name: 'ä¸‡æœ‰å¼•åŠ›ä¸ç‰©ç†', value: 3, width: '60%'},
                        {name: 'åŸå­ç‰©ç†', value: 3, width: '60%'},
                        {name: 'æŒ¯åŠ¨ä¸æ³¢', value: 3, width: '60%'},
                        {name: 'åŠ›å­¦å®éªŒ', value: 2, width: '50%'},
                        {name: 'æ›²çº¿è¿åŠ¨', value: 2, width: '50%'},
                        {name: 'é€‰ä¿®å®éªŒ', value: 2, width: '50%'},
                        {name: 'å…‰å­¦', value: 1, width: '40%'},
                        {name: 'ç›¸äº’ä½œç”¨', value: 1, width: '40%'},
                        {name: 'åœ†å‘¨è¿åŠ¨', value: 1, width: '40%'}
                    ]
                }
            },
            {
                type: 'user',
                content: 'å¥½çš„ï¼Œé‚£æˆ‘åº”è¯¥æ€ä¹ˆå­¦å‘¢ï¼Œç°åœ¨ä¸Šè¯¾æˆ‘å·²ç»å¬ä¸æ‡‚äº†ã€‚'
            },
            {
                type: 'thinking',
                analysis: 'åˆ¶å®š"å…ˆè¡¥åŸºç¡€å†æ¨¡æ‹Ÿ"çš„è¿›é˜¶è·¯å¾„ã€‚é€‰æ‹©é»„å¤«äººè¯¾ç¨‹å› å…¶é€šä¿—æ˜“æ‡‚ã€é€‚åˆåŸºç¡€è–„å¼±å­¦ç”Ÿï¼›é”™é¢˜è®°å½•æ˜¯æåˆ†å…³é”®ï¼Œéœ€å¼ºè°ƒè¿‡ç¨‹ç®¡ç†ã€‚åŒæ—¶è€ƒè™‘å­¦ç”Ÿæ—¶é—´æœ‰é™ï¼Œèµ„æºå¿…é¡»ç²¾å‡†åŒ¹é…ã€‚',
                searching: 'ä»ã€Šåˆä½œè¯¾ç¨‹èµ„æºåº“ã€‹æå–Bç«™é»„å¤«äººç”µç£å­¦æ’­æ”¾é‡TOP5è§†é¢‘ï¼Œå…³è”é”™é¢˜æœ¬åŠŸèƒ½è°ƒç”¨è®°å½•ã€‚'
            },
            {
                type: 'ai',
                content: 'å—¯ï¼Œå‰æœŸçš„è¯ä½ å¯ä»¥å…ˆç»ƒè¿™ä»½ç”µå­¦ä¸“é¢˜ç²¾é€‰ï¼Œæ­é…Bç«™ä¸»æ’­é»„å¤«äººçš„è§†é¢‘è¯¾ï¼ŒæŠŠæ‰€æœ‰çš„è€ƒç‚¹å’Œé¢˜å‹ç†Ÿæ‚‰ä¸€éï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¦æ³¨é‡è§£é¢˜è´¨é‡ï¼Œæ¯é“é”™é¢˜éƒ½è¦è®°å½•é”™è¯¯çš„åŸå› ã€‚',
                videos: [
                    {title: 'ç”µåœºåŸºæœ¬æ¦‚å¿µä¸è§„å¾‹', duration: '28åˆ†é’Ÿ'},
                    {title: 'å­¦éœ¸ç¬”è®°ã€ç”µåœºåŠ›ä¸ç”µåŠ¿èƒ½ã€‘', duration: '32åˆ†é’Ÿ'},
                    {title: 'ç£åœºä¸å®‰åŸ¹åŠ›', duration: '30åˆ†é’Ÿ'},
                    {title: 'æ¥æ¬¡å®šå¾‹è¯¦è§£', duration: '35åˆ†é’Ÿ'}
                ]
            },
            {
                type: 'ai',
                content: 'åæœŸå†ç»ƒè¿™ä»½æ¨¡æ‹Ÿé¢˜+çœŸé¢˜æ±‡ç¼–ï¼Œææ—¶é—´æ¥åšï¼ŒæŒ‰ç…§é«˜è€ƒèŠ‚å¥æ¥æ¨¡æ‹Ÿç»ƒã€‚',
                exercises: [
                    {title: 'ç”µåœºå¼ºåº¦å’Œç”µåŠ¿ä¸“é¡¹', count: '10é¢˜'},
                    {title: 'ç£åœºä¸å®‰åŸ¹åŠ›ç»ƒä¹ ', count: '12é¢˜'},
                    {title: 'ç”µç£æ„Ÿåº”ç»¼åˆé¢˜', count: '15é¢˜'},
                    {title: 'ç”µå­¦å®éªŒä¸“é¢˜', count: '8é¢˜'}
                ]
            },
            {
                type: 'user',
                content: 'å¥½çš„ï¼Œè¿™äº›éœ€è¦ç»ƒå¤šä¹…å‘€ï¼Œæˆ‘è¿˜æœ‰80å¤©å°±é«˜è€ƒäº†ã€‚'
            },
            {
                type: 'ai',
                content: 'ä½ æ¯å¤©èƒ½èŠ±å¤šå°‘æ—¶é—´è·Ÿç€æˆ‘ç»ƒå‘€ã€‚'
            },
            {
                type: 'user',
                content: 'å¤§æ¦‚1-2å°æ—¶å§ã€‚'
            },
            {
                type: 'thinking',
                analysis: 'å°†80å¤©æ‹†åˆ†ä¸º"åŸºç¡€æ”»åš+æ¨¡æ‹Ÿå†²åˆº"ç¬¦åˆå­¦ä¹ è§„å¾‹ã€‚æ¯å¤©1.5å°æ—¶ç¬¦åˆå­¦ç”Ÿæ—¶é—´æ‰¿è¯ºï¼Œé¿å…å› å¼ºåº¦è¿‡é«˜å¯¼è‡´æ”¾å¼ƒã€‚æ·»åŠ è®¡åˆ’æŒ‰é’®æ˜¯è¡Œä¸ºè®¾è®¡ï¼Œé€šè¿‡æ‰¿è¯ºæœºåˆ¶æå‡æ‰§è¡Œç‡ã€‚',
                searching: 'è°ƒç”¨ã€Šå†²åˆºé˜¶æ®µæ—¶é—´è§„åˆ’æ¨¡å‹ã€‹ï¼ŒæŒ‰7:3åˆ†é…åŸºç¡€ä¸å†²åˆºç»ƒä¹ ï¼ŒåµŒå…¥è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿å®‰æ’é”™é¢˜å›é¡¾ã€‚'
            },
            {
                type: 'ai',
                content: 'å¥½é‚£æˆ‘ç»™ä½ å®šä¸ª80å¤©çš„è®­ç»ƒè®¡åˆ’å§ï¼Œå‰40å¤©æ˜¯æ¨¡å—è®­ç»ƒï¼Œå40å¤©æ˜¯æ¨¡æ‹Ÿç»ƒä¹ ï¼Œæ¯å¤©ä¸€ä¸ªåŠå°æ—¶ï¼Œä½ çœ‹ä¸‹å¯ä»¥ä¸ï¼Œå¦‚æœä½ å¯ä»¥ä½ å°±ç‚¹æ·»åŠ è®¡åˆ’ï¼Œå’±ä»¬ä»æ˜å¤©å¼€å§‹å°±å¯ä»¥è®­ç»ƒäº†ã€‚'
            },
            {
                type: 'plan',
                title: '40å¤©ç”µç£ä¸“é¢˜è®­ç»ƒ',
                subtitle: '4æœˆ10æ—¥ - 5æœˆ20æ—¥ 40 å¤©å®Œæˆ',
                items: [
                    {
                        icon: '<span style="font-size:26px; color:#DC74E9;">â–¶</span>', 
                        title: '[Bç«™]é»„å¤«äººç”µåœºåˆé›†ã€20èŠ‚ã€‘', 
                        duration: 'æ¯å¤©1èŠ‚ Â· é¢„è®¡30åˆ†é’Ÿ',
                        type: 'video'
                    },
                    {
                        icon: '<span style="font-size:24px; color:#F37B30;">ğŸ“š</span>', 
                        title: 'å­¦éœ¸è§£é¢˜æŠ€å·§ç¬”è®°ã€40é¡µã€‘', 
                        duration: 'æ¯å¤©1é¡µ Â· é¢„è®¡10åˆ†é’Ÿ',
                        type: 'notes'
                    },
                    {
                        icon: '<span style="font-size:24px; color:#2A95E7;">ğŸ“</span>', 
                        title: 'ç”µç£ä¸“é¡¹ç»ƒä¹ ç²¾é€‰ã€100é¢˜ã€‘', 
                        duration: 'æ¯å¤©3é“ Â· é¢„è®¡20åˆ†é’Ÿ',
                        type: 'exercise'
                    }
                ]
            }
        ];

        // åˆ›å»ºæ¶ˆæ¯å…ƒç´ çš„å‡½æ•°
        function createElement(className, innerHTML = '') {
            const element = document.createElement('div');
            element.className = className;
            element.innerHTML = innerHTML;
            return element;
        }

        // æ˜¾ç¤ºAIæ¶ˆæ¯ - ä¿®å¤æ„å¤–çš„"else"é”™è¯¯
        async function showAiMessage(message) {
            return new Promise(resolve => {
                setTimeout(() => {
                    const container = document.getElementById('chat-messages-container');
                    const messageElement = createElement('message duck-message');
                    
                    // æ·»åŠ æ¶ˆæ¯å†…å®¹
                    messageElement.textContent = message.content;
                    container.appendChild(messageElement);
                    
                    // å¦‚æœæœ‰é€‰é¡¹ï¼Œå»¶è¿Ÿæ˜¾ç¤ºé€‰é¡¹å¡
                    if (message.options) {
                        setTimeout(() => {
                        const optionsContainer = createElement('options-container');
                            optionsContainer.id = 'options-container';
                            
                        message.options.forEach((option, index) => {
                            const optionButton = createElement('option-button', option);
                            optionsContainer.appendChild(optionButton);
                        });
                            
                        container.appendChild(optionsContainer);
                            container.scrollTop = container.scrollHeight;
                            
                            // å»¶è¿Ÿè‡ªåŠ¨é€‰ä¸­"é«˜ä¸‰"é€‰é¡¹
                            setTimeout(() => {
                                const highSchoolOption = Array.from(optionsContainer.querySelectorAll('.option-button'))
                                    .find(button => button.textContent.trim() === 'é«˜ä¸‰');
                                
                                if (highSchoolOption) {
                                    // æ·»åŠ é€‰ä¸­æ ·å¼
                                    highSchoolOption.classList.add('selected');
                                    
                                    // å¢åŠ ä¸€ä¸ªçŸ­æš‚å»¶è¿Ÿï¼Œè®©ç”¨æˆ·å¯ä»¥çœ‹åˆ°é€‰ä¸­çŠ¶æ€
                                    setTimeout(() => {
                                        // ç„¶åå†ç§»é™¤é€‰é¡¹å¹¶æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
                                    optionsContainer.remove();
                                    
                                    // æ˜¾ç¤ºç”¨æˆ·é€‰æ‹©çš„æ¶ˆæ¯
                                    showUserMessage('é«˜ä¸‰').then(() => {
                                        // å®Œæˆè¿™æ¡æ¶ˆæ¯çš„å¤„ç†
                                        resolve();
                                    });
                                    }, 800); // ç»™äºˆ800æ¯«ç§’çš„æ—¶é—´æ˜¾ç¤ºé€‰ä¸­çŠ¶æ€
                                } else {
                                    resolve(); // å¦‚æœæ‰¾ä¸åˆ°"é«˜ä¸‰"é€‰é¡¹ï¼Œç›´æ¥å®Œæˆ
                                }
                            }, 1500); // æ˜¾ç¤ºé€‰é¡¹å1.5ç§’è‡ªåŠ¨é€‰ä¸­
                        }, 1500); // æ˜¾ç¤ºAIæ¶ˆæ¯å1.5ç§’æ˜¾ç¤ºé€‰é¡¹
                    } else {
                        // å¦‚æœæ²¡æœ‰é€‰é¡¹ï¼Œå¤„ç†å…¶ä»–å†…å®¹ç±»å‹
                        if (message.form) {
                            // å¦‚æœæœ‰è¡¨å•ï¼Œæ˜¾ç¤ºè¡¨å•
                            const formContainer = createElement('form-container');
                            const formTitle = createElement('form-title', message.form.title);
                            formContainer.appendChild(formTitle);
                            
                            message.form.modules.forEach(module => {
                                const formGroup = createElement('form-group');
                                const groupTitle = createElement('form-group-title', module.title);
                                formGroup.appendChild(groupTitle);
                                
                                const formOptions = createElement('form-options');
                                module.options.forEach((option, index) => {
                                    const formOption = createElement('form-option', option);
                                        // åˆå§‹ä¸é€‰ä¸­ä»»ä½•é€‰é¡¹
                                    formOptions.appendChild(formOption);
                                });
                                
                                formGroup.appendChild(formOptions);
                                formContainer.appendChild(formGroup);
                            });
                            
                            const formSubmit = createElement('form-submit', 'æäº¤');
                                formSubmit.style.opacity = '0.5';  // åˆå§‹æäº¤æŒ‰é’®è®¾ä¸ºåŠé€æ˜
                                formSubmit.style.pointerEvents = 'none';  // ç¦ç”¨ç‚¹å‡»
                            formContainer.appendChild(formSubmit);
                            container.appendChild(formContainer);
                                
                                // æ·»åŠ æŒ‡ç¤ºå™¨æç¤ºæ­£åœ¨è‡ªåŠ¨å¡«å†™
                                const autoFillIndicator = createElement('div', 'è¯·å¡«å†™...');
                                autoFillIndicator.style.cssText = `
                                    align-self: flex-start;
                                    font-size: 12px;
                                    color: #888;
                                    margin: 5px 15px;
                                    opacity: 0.7;
                                `;
                                container.appendChild(autoFillIndicator);
                                container.scrollTop = container.scrollHeight;
                                
                                // è‡ªåŠ¨é€‰æ‹©è¡¨å•é€‰é¡¹å’Œæäº¤
                                setTimeout(() => {
                                    autoSelectFormOptions(formContainer, message.form, () => {
                                        // ç§»é™¤æŒ‡ç¤ºå™¨
                                        autoFillIndicator.remove();
                                        
                                        // å¯ç”¨å¹¶é«˜äº®æäº¤æŒ‰é’®
                                        formSubmit.style.opacity = '1';
                                        formSubmit.style.pointerEvents = 'auto';
                                        
                                        // æ·»åŠ æäº¤æŒ‡ç¤ºå™¨
                                        const submitIndicator = createElement('div', 'æ­£åœ¨æäº¤...');
                                        submitIndicator.style.cssText = `
                                            align-self: flex-start;
                                            font-size: 12px;
                                            color: #888;
                                            margin: 5px 15px;
                                            opacity: 0.7;
                                        `;
                                        container.appendChild(submitIndicator);
                                        container.scrollTop = container.scrollHeight;
                                        
                                        // è‡ªåŠ¨ç‚¹å‡»æäº¤æŒ‰é’®
                                        setTimeout(() => {
                                            formSubmit.classList.add('clicked');
                                            setTimeout(() => {
                                                // ä¿®æ”¹æŒ‰é’®æ–‡æœ¬ä¸º"å·²æäº¤"
                                                formSubmit.innerHTML = 'å·²æäº¤';
                                                // æ·»åŠ æ ·å¼ä½¿æŒ‰é’®ç½®ç°
                                                formSubmit.style.backgroundColor = '#a9a9a9';
                                                formSubmit.style.pointerEvents = 'none';
                                                formSubmit.style.cursor = 'default';
                                                formSubmit.style.boxShadow = 'none';
                                                
                                                formSubmit.classList.remove('clicked');
                                                submitIndicator.remove();
                                                resolve();
                                            }, 500);
                                        }, 1000);
                                    });
                                }, 1500);
                            } 
                            // æ·»åŠ å¤„ç†è§†é¢‘åˆ—è¡¨çš„ä»£ç 
                            else if (message.videos) {
                                const videoList = createElement('video-list');
                                
                                message.videos.forEach(video => {
                                    const videoItem = createElement('video-item');
                                    
                                    const videoIcon = createElement('video-icon', 'â–¶');
                                    
                                    const videoInfo = createElement('video-info');
                                    const videoTitle = createElement('video-title', video.title);
                                    const videoDuration = createElement('video-duration', video.duration);
                                    
                                    videoInfo.appendChild(videoTitle);
                                    videoInfo.appendChild(videoDuration);
                                    
                                    videoItem.appendChild(videoIcon);
                                    videoItem.appendChild(videoInfo);
                                    
                                    videoList.appendChild(videoItem);
                                });
                                
                                container.appendChild(videoList);
                                container.scrollTop = container.scrollHeight;
                                resolve();
                            }
                            // æ·»åŠ å¤„ç†ç»ƒä¹ é¢˜åˆ—è¡¨çš„ä»£ç 
                            else if (message.exercises) {
                                const exerciseList = createElement('exercise-list');
                                
                                message.exercises.forEach(exercise => {
                                    const exerciseItem = createElement('exercise-item');
                                    
                                    const exerciseIcon = createElement('exercise-icon', 'ğŸ“');
                                    
                                    const exerciseInfo = createElement('exercise-info');
                                    const exerciseTitle = createElement('exercise-title', exercise.title);
                                    const exerciseDuration = createElement('exercise-duration', exercise.count);
                                    
                                    exerciseInfo.appendChild(exerciseTitle);
                                    exerciseInfo.appendChild(exerciseDuration);
                                    
                                    exerciseItem.appendChild(exerciseIcon);
                                    exerciseItem.appendChild(exerciseInfo);
                                    
                                    exerciseList.appendChild(exerciseItem);
                                });
                                
                                container.appendChild(exerciseList);
                                container.scrollTop = container.scrollHeight;
                                resolve();
                            }
                            // åœ¨å¤„ç†å…¶ä»–å†…å®¹ç±»å‹çš„éƒ¨åˆ†æ·»åŠ å¯¹chartçš„å¤„ç†
                            else if (message.chart) {
                    const cardContainer = createElement('card-container');
                                const cardTitle = createElement('card-title', message.chart.title);
                    cardContainer.appendChild(cardTitle);
                    
                                const chartContainer = createElement('chart-container');
                                
                                message.chart.data.forEach(item => {
                                    const statisticsBar = createElement('statistics-bar', item.name);
                                    statisticsBar.style.width = item.width;
                                    chartContainer.appendChild(statisticsBar);
                                });
                                
                                cardContainer.appendChild(chartContainer);
                    container.appendChild(cardContainer);
                                container.scrollTop = container.scrollHeight;
                                resolve();
                            }
                            // å…¶ä»–æƒ…å†µ
                            else {
                                container.scrollTop = container.scrollHeight;
                                resolve();
                            }
                        }
                    }, 300);
                });
            }

        // æ·»åŠ è‡ªåŠ¨é€‰æ‹©è¡¨å•é€‰é¡¹çš„å‡½æ•°
        function autoSelectFormOptions(formContainer, formData, callback) {
            const formGroups = formContainer.querySelectorAll('.form-group');
            
            // ä¾æ¬¡é€‰æ‹©æ¯ä¸ªæ¨¡å—çš„é€‰é¡¹
            function selectNextGroup(index) {
                if (index >= formGroups.length) {
                    // æ‰€æœ‰æ¨¡å—é€‰æ‹©å®Œæˆ
                    if (callback) callback();
                    return;
                }
                
                const group = formGroups[index];
                const options = group.querySelectorAll('.form-option');
                const selectedIndex = formData.modules[index].selected;
                
                // æ·»åŠ é¼ æ ‡æ‚¬åœæ•ˆæœ
                setTimeout(() => {
                    options[selectedIndex].classList.add('hover-effect');
                    
                    // æ·»åŠ ç‚¹å‡»æ•ˆæœ
                    setTimeout(() => {
                        options[selectedIndex].classList.remove('hover-effect');
                        options[selectedIndex].classList.add('selected');
                        
                        // æ’­æ”¾ç‚¹å‡»å£°éŸ³ï¼ˆå¯é€‰ï¼‰
                        // playClickSound();
                        
                        // ç»§ç»­ä¸‹ä¸€ä¸ªç»„
                        selectNextGroup(index + 1);
                    }, 400);
                }, 800);
            }
            
            // å¼€å§‹é€‰æ‹©ç¬¬ä¸€ä¸ªç»„
            selectNextGroup(0);
        }

        // æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
        async function showUserMessage(content) {
            return new Promise(resolve => {
                setTimeout(() => {
                    const container = document.getElementById('chat-messages-container');
                    const messageElement = createElement('message user-message', content);
                    container.appendChild(messageElement);
                    container.scrollTop = container.scrollHeight;
                    resolve();
                }, 1000);
            });
        }

        // çµåŠ¨å²›çœ¨çœ¼åŠ¨ç”»
        function startBlinking() {
            const leftEye = document.getElementById('left-eye');
            const rightEye = document.getElementById('right-eye');
            
            setInterval(() => {
                leftEye.classList.add('blink');
                rightEye.classList.add('blink');
                
                setTimeout(() => {
                    leftEye.classList.remove('blink');
                    rightEye.classList.remove('blink');
                }, 300);
            }, 4000);
        }

        // æ˜¾ç¤ºæ€è€ƒçµåŠ¨å²›
        async function showThinking(message) {
            return new Promise(resolve => {
                const dynamicIsland = document.getElementById('dynamic-island');
                const eyeContainer = document.getElementById('eye-container');
                const thinkingText = document.getElementById('thinking-text');
                const thinkIcon = document.getElementById('think-icon');
                const analysisText = document.getElementById('analysis-text');
                const findIcon = document.getElementById('find-icon');
                const extraLine1 = document.getElementById('extra-line1');
                const extraLine2 = document.getElementById('extra-line2');
                
                // åˆå§‹åŒ–çµåŠ¨å²›çŠ¶æ€
                eyeContainer.classList.remove('fade-out', 'hidden');
                thinkingText.classList.remove('visible');
                thinkIcon.classList.remove('visible');
                analysisText.classList.remove('visible');
                findIcon.classList.remove('visible');
                extraLine1.classList.remove('visible');
                extraLine2.classList.remove('visible');
                
                // é‡ç½®æ–‡æœ¬å†…å®¹
                analysisText.textContent = '';
                extraLine1.textContent = '';
                extraLine2.textContent = '';
                
                // é‡ç½®thinking-textï¼Œæ¸…é™¤æ—§çš„è®¡æ—¶å™¨
                thinkingText.textContent = 'æ€è€ƒä¸­';
                const existingTimer = document.getElementById('timer-span');
                if (existingTimer) {
                    existingTimer.remove();
                }
                
                // ç¡®ä¿åŠ¨æ€å²›å¤„äºåˆå§‹çŠ¶æ€
                dynamicIsland.className = 'dynamic-island';
                dynamicIsland.style.minHeight = '';
                
                // é¢„å…ˆä¼°ç®—æ–‡æœ¬é«˜åº¦ - åœ¨ä»»ä½•åŠ¨ç”»å¼€å§‹å‰
                const isLongText = message.analysis.length > 150;
                
                // ä½¿ç”¨requestAnimationFrameç¡®ä¿æ ·å¼å˜åŒ–åœ¨åˆé€‚çš„æ—¶æœºæ‰§è¡Œ
                requestAnimationFrame(() => {
                // æ­¥éª¤1ï¼šçµåŠ¨å²›çœ¼ç›é€æ¸æ¶ˆå¤±
                    eyeContainer.classList.add('fade-out');
                    
                    setTimeout(() => {
                        eyeContainer.classList.add('hidden');
                        
                        // å‡†å¤‡è®¡æ—¶å™¨å…ƒç´ 
                            const timerSpan = document.createElement('span');
                            timerSpan.style.marginLeft = '6px';
                            timerSpan.id = 'timer-span';
                            thinkingText.appendChild(timerSpan);
                            
                        // åœ¨åå°ç²¾ç¡®è®¡ç®—åˆ†ææ–‡æœ¬çš„é«˜åº¦
                        const tempDiv = document.createElement('div');
                        tempDiv.style.cssText = `
                            position: absolute; 
                            visibility: hidden; 
                            width: 276px;
                            font-size: 14px;
                            line-height: 20px;
                            letter-spacing: 0.1em;
                            font-family: 'PingFang SC', sans-serif;
                        `;
                        tempDiv.textContent = message.analysis;
                        document.body.appendChild(tempDiv);
                        
                        const analysisHeight = tempDiv.clientHeight;
                        document.body.removeChild(tempDiv);
                        
                        // è®¡ç®—æ‰€æœ‰å†…å®¹çš„æ€»é«˜åº¦
                        const searchLines = message.searching.split('\n');
                        let totalHeight = 56 + analysisHeight + 40; // topä½ç½® + åˆ†æé«˜åº¦ + è¾¹è·
                        
                        if (searchLines.length > 0) {
                            totalHeight += 28; // ç¬¬ä¸€è¡Œæœç´¢å†…å®¹
                        }
                        
                        if (searchLines.length > 1) {
                            totalHeight += 38; // ç¬¬äºŒè¡Œæœç´¢å†…å®¹
                        }
                        
                        totalHeight = Math.max(totalHeight, 282); // ç¡®ä¿è‡³å°‘è¾¾åˆ°åŸºæœ¬é«˜åº¦
                        
                        // ä¸€æ¬¡æ€§åˆ‡æ¢åˆ°expanded-step1
                        requestAnimationFrame(() => {
                            dynamicIsland.classList.add('expanded-step1');
                            
                            setTimeout(() => {
                                // æ˜¾ç¤ºthinking-textå’Œè®¡æ—¶å™¨
                                thinkingText.classList.add('visible');
                                
                                // å¯åŠ¨è®¡æ—¶å™¨
                                let seconds = 1;
                            const timerInterval = setInterval(() => {
                                const min = Math.floor(seconds / 60);
                                const sec = seconds % 60;
                                timerSpan.textContent = `${min}:${sec.toString().padStart(2, '0')}`;
                                seconds++;
                            }, 1000);
                                
                            setTimeout(() => {
                                    // ä¸€æ¬¡æ€§åˆ‡æ¢åˆ°expanded-step2ï¼Œå¯¹äºé•¿æ–‡æœ¬ç›´æ¥ä½¿ç”¨é¢„è®¡ç®—çš„æ›´å¤§å°ºå¯¸
                                    requestAnimationFrame(() => {
                                dynamicIsland.classList.remove('expanded-step1');
                                        
                                        // ç‰¹æ®Šå¤„ç†é•¿æ–‡æœ¬ï¼šç›´æ¥ä½¿ç”¨è¶³å¤Ÿå¤§çš„é«˜åº¦
                                        if (isLongText) {
                                            // è®¾ç½®ä¸€ä¸ªè¶³å¤Ÿå¤§çš„é«˜åº¦ï¼Œè¶…è¿‡åˆ†ææ–‡æœ¬æ‰€éœ€çš„é«˜åº¦
                                            dynamicIsland.style.minHeight = `${Math.max(totalHeight, 350)}px`;
                                            dynamicIsland.classList.add('expanded-step3');
                                        } else {
                                dynamicIsland.classList.add('expanded-step2');
                                        }
                                
                                setTimeout(() => {
                                            // æ˜¾ç¤ºæ€è€ƒå›¾æ ‡
                                    thinkIcon.classList.add('visible');
                                    
                                    setTimeout(() => {
                                                // æ˜¾ç¤ºåˆ†ææ–‡æœ¬ - æ­¤æ—¶å®¹å™¨å·²ç»è¶³å¤Ÿå¤§
                                                typeText(analysisText, message.analysis, () => {
                                                    // åˆ†ææ–‡æœ¬å®Œæˆå
                                        setTimeout(() => {
                                                        if (!isLongText) {
                                                            // åªæœ‰åœ¨éé•¿æ–‡æœ¬æ—¶æ‰éœ€è¦è¿™ä¸ªè¿‡æ¸¡
                                                            requestAnimationFrame(() => {
                                                                dynamicIsland.style.minHeight = `${totalHeight}px`;
                                            dynamicIsland.classList.remove('expanded-step2');
                                            dynamicIsland.classList.add('expanded-step3');
                                                            });
                                                        }
                                                        
                                                        // è®¾ç½®æœç´¢å›¾æ ‡å’Œå†…å®¹çš„ä½ç½®
                                                        const currentAnalysisBottom = 56 + analysisHeight;
                                                        findIcon.style.top = (currentAnalysisBottom + 20) + 'px';
                                                        extraLine1.style.left = '45px';
                                                        extraLine1.style.right = '29px';
                                                        extraLine1.style.top = (currentAnalysisBottom + 15) + 'px';
                                                        
                                                        if (searchLines.length > 1) {
                                                            extraLine2.style.left = '45px';
                                                            extraLine2.style.right = '29px';
                                                            extraLine2.style.top = (currentAnalysisBottom + 15 + 28 + 10) + 'px';
                                                        }
                                                        
                                            setTimeout(() => {
                                                            // æ˜¾ç¤ºæœç´¢å›¾æ ‡å’Œå†…å®¹
                                                findIcon.classList.add('visible');
                                                
                                                if (searchLines.length > 0) {
                                                    extraLine1.classList.add('visible');
                                                    typeText(extraLine1, searchLines[0]);
                                                }
                                                
                                                if (searchLines.length > 1) {
                                                    setTimeout(() => {
                                                        extraLine2.classList.add('visible');
                                                        typeText(extraLine2, searchLines[1]);
                                                                }, 400);
                                                }
                                                
                                                            // 3ç§’åæ”¶å›çµåŠ¨å²›
                                                setTimeout(() => {
                                                    clearInterval(timerInterval);
                                                    
                                                                // ä¸€æ¬¡æ€§éšè—æ‰€æœ‰å†…å®¹
                                                                thinkingText.classList.remove('visible');
                                                                thinkIcon.classList.remove('visible');
                                                                analysisText.classList.remove('visible');
                                                    findIcon.classList.remove('visible');
                                                    extraLine1.classList.remove('visible');
                                                    extraLine2.classList.remove('visible');
                                                    
                                                                // åœ¨ä¸‹ä¸€å¸§æ¢å¤åˆå§‹çŠ¶æ€
                                                                requestAnimationFrame(() => {
                                                                    dynamicIsland.style.minHeight = '';
                                                            dynamicIsland.className = 'dynamic-island';
                                                            
                                                                    setTimeout(() => {
                                                            eyeContainer.classList.remove('hidden');
                                                            eyeContainer.classList.remove('fade-out');
                                                            resolve();
                                                                    }, 600);
                                                                });
                                                            }, 2000);
                                                        }, 400);
                                                    }, 800);
                                                });
                                            }, 400);
                                        }, 400);
                                    });
                                }, 400);
                            }, 400);
                        }, 400);
                    }, 400);
                });
            });
        }

        // æ–‡æœ¬æ‰“å­—æœºæ•ˆæœ
        function typeText(element, text, callback) {
            element.classList.add('visible');
            element.textContent = '';
            
            let index = 0;
            
            function typeChar() {
                if (index < text.length) {
                    element.textContent += text[index];
                    index++;
                    setTimeout(typeChar, 15); // ä»30mså‡å°‘åˆ°15msï¼ŒåŠ å¿«æ‰“å­—é€Ÿåº¦
                } else if (callback) {
                    callback(); // æ–‡æœ¬å®Œå…¨æ˜¾ç¤ºåæ‰§è¡Œå›è°ƒ
                }
            }
            
            typeChar();
        }

        // æ˜¾ç¤ºè®¡åˆ’å¡ç‰‡
        async function showPlanCard(message) {
            return new Promise(resolve => {
                setTimeout(() => {
                    const container = document.getElementById('chat-messages-container');
                    const cardContainer = createElement('card-container');
                    const cardTitle = createElement('card-title', message.title);
                    cardContainer.appendChild(cardTitle);
                    
                    const planCard = createElement('plan-card');
                    message.items.forEach(item => {
                        const planItem = createElement('plan-item');
                        const planIcon = createElement('plan-icon', item.icon);
                        const planInfo = createElement('plan-info');
                        
                        const planTitle = createElement('plan-title', item.title);
                        const planDuration = createElement('plan-duration', item.duration);
                        
                        planInfo.appendChild(planTitle);
                        planInfo.appendChild(planDuration);
                        
                        planItem.appendChild(planIcon);
                        planItem.appendChild(planInfo);
                        
                        planCard.appendChild(planItem);
                    });
                    
                    // æ·»åŠ æŒ‰é’®
                    const planButtons = createElement('plan-buttons');
                    const adjustButton = createElement('plan-button plan-button-adjust', 'éœ€è¦è°ƒæ•´');
                    const addButton = createElement('plan-button plan-button-add', 'æ·»åŠ è®¡åˆ’');
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    addButton.addEventListener('click', () => {
                        showSuccessDialog();
                    });
                    
                    planButtons.appendChild(adjustButton);
                    planButtons.appendChild(addButton);
                    
                    planCard.appendChild(planButtons);
                    cardContainer.appendChild(planCard);
                    container.appendChild(cardContainer);
                    
                    container.scrollTop = container.scrollHeight;
                    resolve();
                }, 500);
            });
        }
        
        // æ˜¾ç¤ºæˆåŠŸå¼¹çª—
        function showSuccessDialog() {
            const successDialog = document.createElement('div');
            successDialog.className = 'success-dialog';
            successDialog.style.display = 'block';
            
            const successMessage = createElement('success-message', 'å·²æ·»åŠ ä»»åŠ¡');
            const successButton = createElement('success-button', 'å¼€å§‹å­¦ä¹ ');
            
            successDialog.appendChild(successMessage);
            successDialog.appendChild(successButton);
            
            document.body.appendChild(successDialog);
            
            // ä¿®æ”¹æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œæ·»åŠ å¼€å§‹å­¦ä¹ çš„ç¯èŠ‚
            successButton.addEventListener('click', () => {
                successDialog.style.display = 'none';
                
                // å…³é—­å¯¹è¯æ¡†åæ˜¾ç¤ºå¼€å§‹å­¦ä¹ çš„å†…å®¹
                setTimeout(() => {
                    document.body.removeChild(successDialog);
                    
                    // æ˜¾ç¤ºå­¦ä¹ å¼€å§‹çš„æ¶ˆæ¯
                    showStartLearningMessages();
                }, 300);
            });
            
            // ç§»é™¤è‡ªåŠ¨å…³é—­çš„é€»è¾‘ï¼Œè®©ç”¨æˆ·å¿…é¡»ç‚¹å‡»æŒ‰é’®
            // setTimeout(() => {
            //     successDialog.style.display = 'none';
            //     setTimeout(() => {
            //         document.body.removeChild(successDialog);
            //     }, 300);
            // }, 2000);
        }

        // æ·»åŠ æ˜¾ç¤ºå­¦ä¹ å¼€å§‹æ¶ˆæ¯çš„å‡½æ•°
        async function showStartLearningMessages() {
            const container = document.getElementById('chat-messages-container');
            
            // æ˜¾ç¤ºé¸­é¸­æ­£åœ¨è¾“å…¥çš„çŠ¶æ€
            const typingIndicator = createElement('div', 'é¸­é¸­æ­£åœ¨è¾“å…¥...');
            typingIndicator.style.cssText = `
                align-self: flex-start;
                font-size: 12px;
                color: #888;
                margin: 5px 15px;
                opacity: 0.7;
            `;
            container.appendChild(typingIndicator);
            container.scrollTop = container.scrollHeight;
            
            // æ¨¡æ‹Ÿè¾“å…¥å»¶è¿Ÿ
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // ç§»é™¤è¾“å…¥çŠ¶æ€ï¼Œæ˜¾ç¤ºæ¶ˆæ¯
            typingIndicator.remove();
            
            // æ˜¾ç¤ºç¬¬ä¸€æ¡æ¶ˆæ¯
            const messageElement1 = createElement('message duck-message');
            messageElement1.textContent = 'å¥½çš„ï¼æˆ‘ä»¬çš„å­¦ä¹ è®¡åˆ’å·²ç»å¼€å§‹å•¦ï¼ğŸ‰ ä»ä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä¼šæ¯å¤©æŒ‰æ—¶æé†’ä½ å­¦ä¹ è¿›åº¦ã€‚';
            container.appendChild(messageElement1);
            container.scrollTop = container.scrollHeight;
            
            // æ˜¾ç¤ºç¬¬äºŒæ¡æ¶ˆæ¯å‰çš„å»¶è¿Ÿ
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // æ˜¾ç¤ºç¬¬äºŒæ¡æ¶ˆæ¯å‰çš„è¾“å…¥çŠ¶æ€
            const typingIndicator2 = createElement('div', 'é¸­é¸­æ­£åœ¨è¾“å…¥...');
            typingIndicator2.style.cssText = `
                align-self: flex-start;
                font-size: 12px;
                color: #888;
                margin: 5px 15px;
                opacity: 0.7;
            `;
            container.appendChild(typingIndicator2);
            container.scrollTop = container.scrollHeight;
            
            // æ¨¡æ‹Ÿè¾“å…¥å»¶è¿Ÿ
            await new Promise(resolve => setTimeout(resolve, 1800));
            
            // ç§»é™¤è¾“å…¥çŠ¶æ€ï¼Œæ˜¾ç¤ºæ¶ˆæ¯
            typingIndicator2.remove();
            
            // æ˜¾ç¤ºç¬¬äºŒæ¡æ¶ˆæ¯
            const messageElement2 = createElement('message duck-message');
            messageElement2.textContent = 'ä»Šå¤©çš„ä»»åŠ¡å·²ç»å‡†å¤‡å¥½äº†ï¼šã€Šç”µåœºåŸºæœ¬æ¦‚å¿µä¸è§„å¾‹ã€‹è§†é¢‘è¯¾ï¼Œã€Šé™ç”µåœºçš„æè¿°ã€‹ç¬”è®°ç²¾è¯»ï¼Œä»¥åŠ3é“åŸºç¡€ç»ƒä¹ é¢˜ã€‚åŠ æ²¹å“¦ï¼ğŸ’ª';
            container.appendChild(messageElement2);
            container.scrollTop = container.scrollHeight;
        }

        // æ¸²æŸ“æ•´ä¸ªå¯¹è¯
        async function renderConversation() {
            startBlinking(); // å¼€å§‹çœ¨çœ¼åŠ¨ç”»
            
            for (let i = 0; i < conversation.length; i++) {
                const message = conversation[i];
                
                if (message.type === 'thinking') {
                    await showThinking(message);
                } else if (message.type === 'ai') {
                    await showAiMessage(message);
                    
                    // è·³è¿‡ç¬¬ä¸€æ¡ç”¨æˆ·æ¶ˆæ¯ï¼ˆå·²ç”±é€‰é¡¹è‡ªåŠ¨ç”Ÿæˆï¼‰
                    if (i === 0 && i + 1 < conversation.length && conversation[i + 1].type === 'user') {
                        i++; // è·³è¿‡ä¸‹ä¸€æ¡é¢„å®šä¹‰çš„ç”¨æˆ·æ¶ˆæ¯
                    } 
                    // æ£€æŸ¥ä¸‹ä¸€æ¡æ¶ˆæ¯æ˜¯å¦ä¹Ÿæ˜¯AIå‘é€çš„ï¼Œå¦‚æœæ˜¯ï¼Œæ·»åŠ å»¶è¿Ÿ
                    else if (i + 1 < conversation.length && conversation[i + 1].type === 'ai') {
                        // ç‰¹æ®Šå¤„ç†è§†é¢‘åˆ—è¡¨å’Œæé—®ä¹‹é—´çš„æ¶ˆæ¯
                        let aiThinkingDelay;
                        
                        // å¦‚æœå½“å‰æ¶ˆæ¯åŒ…å«è§†é¢‘åˆ—è¡¨ä¸”ä¸‹ä¸€æ¡æ˜¯æé—®èŠ±å¤šå°‘æ—¶é—´ï¼Œåˆ™ä½¿ç”¨æ›´é•¿çš„å»¶è¿Ÿ
                        if (message.videos && i + 1 < conversation.length && 
                            conversation[i + 1].content.includes("ä½ æ¯å¤©èƒ½èŠ±å¤šå°‘æ—¶é—´")) {
                            aiThinkingDelay = 3000; // å›ºå®šä½¿ç”¨3ç§’å»¶è¿Ÿ
                            console.log("ä½¿ç”¨è¾ƒé•¿çš„æ¶ˆæ¯å»¶è¿Ÿ");
                        } else {
                            // å…¶ä»–æƒ…å†µä½¿ç”¨æ­£å¸¸çš„éšæœºå»¶è¿Ÿ
                            aiThinkingDelay = Math.floor(Math.random() * 500) + 1500; // ä»0.8-1.3ç§’å¢åŠ åˆ°1.5-2ç§’
                        }
                        
                        await new Promise(resolve => setTimeout(resolve, aiThinkingDelay));
                        
                        // æ·»åŠ "é¸­é¸­æ­£åœ¨è¾“å…¥..."çš„æç¤º
                        const container = document.getElementById('chat-messages-container');
                        const typingIndicator = createElement('div', 'é¸­é¸­æ­£åœ¨è¾“å…¥...');
                        typingIndicator.style.cssText = `
                            align-self: flex-start;
                            font-size: 12px;
                            color: #888;
                            margin: 5px 15px;
                            opacity: 0.7;
                        `;
                        container.appendChild(typingIndicator);
                        container.scrollTop = container.scrollHeight;
                        
                        // è§†é¢‘åˆ—è¡¨åçš„æ¶ˆæ¯ä½¿ç”¨æ›´é•¿çš„è¾“å…¥æ—¶é—´
                        const typingTime = message.videos ? 
                            Math.floor(Math.random() * 600) + 1200 : // è§†é¢‘åˆ—è¡¨åä½¿ç”¨1.2-1.8ç§’
                            Math.floor(Math.random() * 400) + 600;   // ä¸€èˆ¬æƒ…å†µä½¿ç”¨0.6-1ç§’
                        
                        await new Promise(resolve => setTimeout(resolve, typingTime));
                        typingIndicator.remove();
                    }
                    
                    // æ·»åŠ é¢å¤–å»¶è¿Ÿï¼Œæ¨¡æ‹Ÿç”¨æˆ·æ€è€ƒæ—¶é—´
                    if (i + 1 < conversation.length && conversation[i + 1].type === 'user') {
                        await new Promise(resolve => setTimeout(resolve, 1000)); // ç”¨æˆ·æ€è€ƒçš„æ—¶é—´
                    }
                } else if (message.type === 'user') {
                    // æ¨¡æ‹Ÿç”¨æˆ·è¾“å…¥
                    await simulateTyping();
                    await showUserMessage(message.content);
                } else if (message.type === 'plan') {
                    await showPlanCard(message);
                }
            }
            
            // å¯¹è¯å…¨éƒ¨æ˜¾ç¤ºå®Œåï¼Œè‡ªåŠ¨è§¦å‘æ·»åŠ è®¡åˆ’å’Œå¼€å§‹å­¦ä¹ çš„æµç¨‹
            setTimeout(() => {
                // æŸ¥æ‰¾å¹¶è‡ªåŠ¨ç‚¹å‡»"æ·»åŠ è®¡åˆ’"æŒ‰é’®
                const addPlanButton = document.querySelector('.plan-button-add');
                if (addPlanButton) {
                    addPlanButton.click(); // è§¦å‘ç‚¹å‡»äº‹ä»¶
                    
                    // æ·»åŠ å»¶è¿Ÿåè‡ªåŠ¨ç‚¹å‡»"å¼€å§‹å­¦ä¹ "æŒ‰é’®
                    setTimeout(() => {
                        const startLearningButton = document.querySelector('.success-button');
                        if (startLearningButton) {
                            startLearningButton.click(); // è§¦å‘ç‚¹å‡»äº‹ä»¶
                        }
                    }, 1500); // 1.5ç§’åç‚¹å‡»"å¼€å§‹å­¦ä¹ "æŒ‰é’®
                }
            }, 3000); // ç­‰å¾…3ç§’åå¼€å§‹è‡ªåŠ¨æµç¨‹ï¼Œç¡®ä¿æ‰€æœ‰å†…å®¹éƒ½å·²åŠ è½½å®Œæˆ
        }
        
        // æ·»åŠ æ¨¡æ‹Ÿè¾“å…¥çŠ¶æ€çš„å‡½æ•°
        async function simulateTyping() {
            return new Promise(resolve => {
                // è¿™é‡Œå¯ä»¥æ·»åŠ "æ­£åœ¨è¾“å…¥"çš„æŒ‡ç¤ºå™¨
                // ç®€å•å®ç°ï¼šå¯ä»¥åœ¨æ¶ˆæ¯å®¹å™¨ä¸‹æ–¹æ·»åŠ ä¸€ä¸ªä¸´æ—¶çš„"æ­£åœ¨è¾“å…¥..."æç¤º
                const container = document.getElementById('chat-messages-container');
                const typingIndicator = createElement('div', 'æ­£åœ¨è¾“å…¥...');
                typingIndicator.style.cssText = `
                    align-self: flex-end;
                    font-size: 12px;
                    color: #888;
                    margin: 5px 15px;
                    opacity: 0.7;
                `;
                container.appendChild(typingIndicator);
                container.scrollTop = container.scrollHeight;
                
                // éšæœºæ—¶é—´åç§»é™¤"æ­£åœ¨è¾“å…¥"æŒ‡ç¤ºå™¨ï¼Œæ¨¡æ‹ŸçœŸå®è¾“å…¥ä½“éªŒ
                const typingTime = Math.floor(Math.random() * 1000) + 500; // ä»0.5-1.5ç§’å‡å°‘åˆ°0.5-1.5ç§’
                setTimeout(() => {
                    typingIndicator.remove();
                    resolve();
                }, typingTime);
            });
        }
        
        // è¡¨å•é€‰é¡¹ç‚¹å‡»æ•ˆæœ
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('form-option')) {
                const parent = event.target.parentElement;
                parent.querySelectorAll('.form-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                event.target.classList.add('selected');
            }
            
            if (event.target.classList.contains('option-button')) {
                const parent = event.target.parentElement;
                parent.querySelectorAll('.option-button').forEach(opt => {
                    opt.classList.remove('selected');
                });
                event.target.classList.add('selected');
            }
        });
        
        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹æ¸²æŸ“å¯¹è¯
        window.addEventListener('load', renderConversation);
    </script>
</body>
</html>